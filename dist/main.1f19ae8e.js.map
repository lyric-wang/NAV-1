{"version":3,"sources":["main.js"],"names":["init","logo","url","string","localStorage","getItem","JSON","stringify","a","parse","forEach","render","$","on","e","window","prompt","currentTarget","css","background","undefined","indexOf","newa","simplifyUrl","toUpperCase","push","setItem","replace","element","$li","insertBefore","open","remove","index","splice","stopPropagation","touchstart","timeOutEvent","setTimeout","whether","confirm","children","trigger","touchmove","clearTimeout","touchend"],"mappings":"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","file":"main.1f19ae8e.js","sourceRoot":"..\\src","sourcesContent":["let init = [\r\n  { logo: \"B\", url: \"https://baidu.com\" },\r\n  { logo: \"T\", url: \"https://taobao.com\" },\r\n];\r\nlet string = localStorage.getItem(\"x\") || JSON.stringify(init);\r\na = JSON.parse(string);\r\na.forEach(render);\r\n$(\".addbutton\").on(\"click\", function (e) {\r\n  let url = window.prompt(\"请输入要添加的网址\");\r\n  $(e.currentTarget).css({ background: \"none\" });\r\n  if (url === null || url === undefined || url === \"\") {\r\n    return;\r\n  } else if (url.indexOf(\"http\") !== 0) {\r\n    url = \"https://\" + url;\r\n    let newa = { logo: simplifyUrl(url)[0].toUpperCase(), url: url };\r\n    a.push(newa);\r\n    let string = JSON.stringify(a);\r\n    localStorage.setItem(\"x\", string);\r\n    render(newa);\r\n  }\r\n});\r\n\r\nfunction simplifyUrl(url) {\r\n  return url.replace(\"https://\", \"\").replace(\"http://\", \"\").replace(\"www.\", \"\");\r\n}\r\nfunction render(element) {\r\n  let $li = $(`<li class=\"sitelist\">\r\n        <div class=\"a\">\r\n          <div class=\"logo\">${element.logo}</div>\r\n          <div class=\"url\">${simplifyUrl(element.url)}</div>\r\n          <svg class=\"icon deleteIcon\" style=\"width:20px;height:20px\">\r\n            <use xlink:href=\"#icon-delete\"></use>\r\n          </svg>\r\n          </div>\r\n      </li>`).insertBefore($(\".addbutton\"));\r\n  $li.on(\"click\", function (e) {\r\n    window.open(element.url);\r\n    $(e.currentTarget).css({ background: \"none\" });\r\n  });\r\n  $li.on(\"click\", \".deleteIcon\", function (e) {\r\n    $li.remove();\r\n    let index = $li.index();\r\n    a.splice(index, 1);\r\n    localStorage.setItem(\"x\", JSON.stringify(a));\r\n    e.stopPropagation();\r\n  });\r\n  $li.on({\r\n    touchstart: function (e) {\r\n      // 长按事件触发\r\n      timeOutEvent = setTimeout(function () {\r\n        timeOutEvent = 0;\r\n        //console.log(\"hi\");\r\n        let whether = confirm(\"删除当前标签？\");\r\n        if (whether === false) {\r\n          return;\r\n        } else {\r\n          $($(e.currentTarget).children().children()[2]).trigger(\r\n            \"click\",\r\n            \".deleteIcon\"\r\n          );\r\n        }\r\n      }, 400);\r\n      //长按400毫秒\r\n      // e.preventDefault();\r\n    },\r\n    touchmove: function () {\r\n      clearTimeout(timeOutEvent);\r\n      timeOutEvent = 0;\r\n    },\r\n    touchend: function (e) {\r\n      clearTimeout(timeOutEvent);\r\n      if (timeOutEvent != 0) {\r\n        // 点击事件\r\n        // location.href = '/a/live-rooms.html';\r\n        //alert(\"你点击了\");\r\n        $(e.currentTarget).trigger(\"click\");\r\n      }\r\n      return false;\r\n    },\r\n  });\r\n}\r\n"]}